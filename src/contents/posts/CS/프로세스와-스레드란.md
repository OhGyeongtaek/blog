---
slug: "프로세스와-스레드란"
date: "2021.12.09"
title: "[Computer Science] 프로세스와 스레드란?"
description: "[Computer Science] 프로세스와 스레드의 차이점과 장단점을 알 수 있다."
category: "Computer Science"
---

우선 프로세스와 스레드를 알기 전에 프로그램이란 무엇인지에 대해 알아보겠습니다.

# 프로그램(Program)의 사전적 의미

> 어떤 문제를 해결하기 위해 컴퓨터에게 주어지는 처리 방법과 순서를 기술한 일련의 명령문의 집합체.

한마디로 코드의 집합체(.exe, .dmg, ...) 입니다.

# 프로세스(Process)란?

프로그램을 실행해서 컴퓨터 메모리에 올라가 프로그램이 작동하게 되면 이게 프로세스 입니다.

# 스레드(Thread)란?

스레드(Thread)란 프로세스 내에서 실행되는 흐름의 단위를 말합니다.

그럼 프로세스가 돌아가면 1개 이상의 스레드가 돌아가게 됩니다.

# 프로세스의 메모리 구조

## Code

프로그램에서 코드를 실행할 코드가 저장된 영역

## Data

프로그램의 전역 변수와 정적(static) 변수가 저장되는 영역입니다.

데이터 영역은 프로그램의 시작과 함께 할당되며, 프로그램이 종료되면 소멸합니다.

## Stack

프로그램이 자동으로 사용하는 메모리 영역으로 함수 호출과 관계되는 지역변수와 매개변수가 저장된다.

함수 호출 시 생성되며, 함수가 끝나면 반환된다.

(Stack의 경우 크기가 컴파일을 할때 결정된다.)

## Heap

Stack과 같이 지역변수, 매개변수, 반환 값 등등 일시적인 데이터를 저장하는 공간

(Heap은 런타임시 사용자의 의해 크기가 결정된다.)

# 프로세스와 스레드의 작동 방식

<center>
<img width="800" alt="CS-2-1" src="https://user-images.githubusercontent.com/20200820/145202549-826b6a7b-bd6d-4524-9f22-cd90e783e5f0.png">
</center>

프로세스들이 OS로부터 별도의 메모리 영역을 할당받는 모습

프로세스는 영역을 할당받을 때 Code/Data/Stack/Heap를 모두 독립된 영역으로 할당 받는다.

반면 스레드의 경우 Stack영역을 제외하고 Code/Data/Heap를 공유하여 할당받게 된다.

# 멀티프로세스, 멀티스레드의 차이점

만약 브라우저를 2개를 열어 1번 브라우저는 유튜브를 보고, 2번 브라우저는 웹서핑을 하고있을 때 2번 브라우저가 오류로 종료가 되었다면 1번 브라우저에 영향이 가게 될까요??

2번 브라우저가 종료가 되면서 브라우저의 파일이 손상을 시킨 경우가 아니라면 아무런 영향을 주지 않습니다.

반면 스레드의 경우 1개의 프로세스에서 멀티 스레드로 돌고있다가 오류가 발생한 경우 다른 스레드에 영향을 받고 종료하게 됩니다.

# 싱글 스레드의 장점

동기화를 신경쓰지 않아도 된다.
작업전환 작업을 요구하지 않는다.

# 싱글 스레드의 단점

1개의 스레드로 2개의 작업을 하는것 보다 오래걸릴 수 있다. 스레드간의 작업전환 시간이 걸리기 때문이다.

# 멀티스레드의 장점

Context-Switching 할 때 공유하고 있는 메모리만큼 메모리 자원을 아낄 수 있다.

Stack영역을 제외한 모든 메모리를 공유하기 때문에 통신 부담이 적고 빠르다.

# 멀티스레드의 단점

위의 예시와 같이 스레드 1개가 잘못 동작하고 있다면 모든 프로세스가 종료될 수 있다.

자원을 공유하기 때문에 동기화 문제가 발생할 수 있다.
